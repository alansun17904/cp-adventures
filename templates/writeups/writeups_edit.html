{% extends "base.html" %}
{% load bootstrap5 %}
{% block body_block %}
    <form method="POST">
        {% bootstrap_form form %}
        {% csrf_token %}
        {% buttons %}
            <button class="btn btn-warning" type="submit">Edit</button>
        {% endbuttons %}
    </form>
    <script>
        var editor = new MediumEditor('.editable');
        boxes = document.getElementsByClassName('editable')
        for (let i = 0; i < boxes.length; i++) {
            boxes[i].addEventListener('keydown', function (e) {
                if (e.key == 'Tab') {
                    e.preventDefault();
                    var start = this.selectionStart;
                    var end = this.selectionEnd;

                    // set textarea value to: text before caret + tab + text after caret
                    this.value = this.value.substring(0, start) +
                        "\t" + this.value.substring(end);

                    // put caret at right position again
                    this.selectionStart =
                        this.selectionEnd = start + 1;
                }
            });
        }
    </script>
{% endblock %}